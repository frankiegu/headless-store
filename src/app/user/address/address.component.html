<div>

  <form [formGroup]="addressForm" (ngSubmit)="saveAddress()" class="address">
    <mat-form-field appearance="outline">
      <input matInput placeholder="姓名" formControlName="name">
      <mat-error *ngIf="name.hasError('required')">
        <strong>必填</strong>
      </mat-error>
    </mat-form-field>
    <ng-container formGroupName="address">
    <mat-form-field appearance="outline">
      <mat-select placeholder="省/市/自治区" formControlName="province" (selectionChange)="provinceChanged()">
        <mat-option *ngFor="let province of provinceD" [value]="province">
          {{province.name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="province.hasError('required')">
        <strong>必填</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-select placeholder="市" formControlName="city" (selectionChange)="cityChanged()">
        <mat-option *ngFor="let city of cityD" [value]="city">
          {{city.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-select placeholder="县/市/区）" formControlName="county">
        <mat-option *ngFor="let county of countyD" [value]="county">
          {{county.name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="county.hasError('required')">
        <strong>必填</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <input matInput placeholder="门牌号" formControlName="street">
      <mat-error *ngIf="street.hasError('required')">
        <strong>必填</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <input matInput placeholder="邮编" formControlName="postcode">
      <mat-error *ngIf="postcode.hasError('required') || postcode.hasError('pattern')">
        <strong>6位数字</strong>
      </mat-error>
    </mat-form-field>


  </ng-container>


    <mat-form-field appearance="outline">
      <input matInput placeholder="单位（可不填）" formControlName="agency">

    </mat-form-field>





    <mat-form-field appearance="outline">
      <input matInput placeholder="电话" formControlName="phone">
      <mat-error *ngIf="phone.hasError('required')">
        <strong>必填</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <input matInput placeholder="描述（可不填）" formControlName="description">
    </mat-form-field>

    <!-- <div>
      <span class="button-row">
        <button mat-raised-button [disabled]="!addressForm.valid">保存</button>
        <button mat-raised-button (click)="isEditAddress = false">取消</button>
      </span>
    </div> -->
    <div class="button">
      <button mat-raised-button color="accent" matStepperNext type="button" [disabled]="!addressForm.valid"><h3>下一步</h3></button>
    </div>
  </form>


</div>
